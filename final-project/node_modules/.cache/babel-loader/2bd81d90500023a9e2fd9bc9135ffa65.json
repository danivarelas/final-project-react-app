{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/final-project-react-app/final-project/src/pages/Login/Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport './Login.scss';\nimport { Link, useHistory } from 'react-router-dom';\nimport sha256 from 'crypto-js/sha256';\nimport Base64 from 'crypto-js/enc-base64';\n\nconst Login = () => {\n  const history = useHistory();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [invalidLogin, setInvalidLogin] = useState(false);\n  useEffect(() => {}, [invalidLogin]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setInvalidLogin(false);\n    const user = {\n      username: username,\n      password: password\n    };\n    Axios.post(`http://localhost:8081/api/v1/login`, user).then(res => {\n      sessionStorage.setItem('JWT', res.data);\n      history.push(\"/home\");\n    }).catch(e => {\n      setInvalidLogin(true);\n    });\n  };\n\n  const handleUsername = event => {\n    setUsername(event.target.value);\n  };\n\n  const handlePassword = event => {\n    const hash = Base64.stringify(sha256(event.target.value));\n    setPassword(hash);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"login-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    class: \"bg-image\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"login-form-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"login-form-container-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-6 login-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Login to PowerBank\"), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Username\"), React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    required: true,\n    onChange: handleUsername,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"password\",\n    required: true,\n    onChange: handlePassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), invalidLogin && React.createElement(\"div\", {\n    class: \"alert alert-danger fade show\",\n    role: \"alert\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Wrong username or password.\"), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Login\"))), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Don't have an account? \", React.createElement(Link, {\n    to: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Register here\"), \".\"))), React.createElement(\"div\", {\n    className: \"col-md-6 bank-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"info\"))))));\n};\n\nexport default Login;\n/** */","map":{"version":3,"sources":["/Users/user/Desktop/final-project-react-app/final-project/src/pages/Login/Login.js"],"names":["React","useState","useEffect","Axios","Link","useHistory","sha256","Base64","Login","history","username","setUsername","password","setPassword","invalidLogin","setInvalidLogin","handleSubmit","e","preventDefault","user","post","then","res","sessionStorage","setItem","data","push","catch","handleUsername","event","target","value","handlePassword","hash","stringify"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport './Login.scss';\nimport { Link, useHistory } from 'react-router-dom';\nimport sha256 from 'crypto-js/sha256';\nimport Base64 from 'crypto-js/enc-base64';\n\nconst Login = () => {\n\n    const history = useHistory();\n\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [invalidLogin, setInvalidLogin] = useState(false);\n\n    useEffect(() => { }, [invalidLogin]);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        setInvalidLogin(false);\n        const user = {\n            username: username,\n            password: password\n        }\n        Axios.post(`http://localhost:8081/api/v1/login`, user)\n            .then(res => {\n                sessionStorage.setItem('JWT', res.data);\n                history.push(\"/home\");\n            }).catch(e => {\n                setInvalidLogin(true);\n            });\n    }\n\n    const handleUsername = event => { setUsername(event.target.value); }\n\n    const handlePassword = event => {\n        const hash = Base64.stringify(sha256(event.target.value));\n        setPassword(hash);\n    }\n\n    return (\n        <div className=\"login-container\">\n            <div class=\"bg-image\"></div>\n            <div className=\"login-form-container\">\n                <div className=\"login-form-container-content\">\n                    <div className=\"row\">\n                    <div className=\"col-md-6 login-form\">\n                            <div>\n                                <h1>Login to PowerBank</h1>\n                                <form onSubmit={handleSubmit}>\n                                    <div className=\"form-group\">\n                                        <label>Username</label>\n                                        <input className=\"form-control\" type=\"text\" required onChange={handleUsername}></input>\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <label>Password</label>\n                                        <input className=\"form-control\" type=\"password\" required onChange={handlePassword}></input>\n                                    </div>\n                                    {\n                                        invalidLogin &&\n                                        <div class=\"alert alert-danger fade show\" role=\"alert\">\n                                            Wrong username or password.\n                                        </div>\n                                    }\n                                    <div className=\"form-group\">\n                                        <button className=\"btn btn-success\" type=\"submit\" >Login</button>\n                                    </div>\n                                </form>\n                                <p>Don't have an account? <Link to=\"/register\">Register here</Link>.</p>\n                            </div>\n                        </div>\n                        <div className=\"col-md-6 bank-info\">\n                            <p>info</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    );\n}\n\nexport default Login;\n\n/** */"]},"metadata":{},"sourceType":"module"}