{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/web-dev-program/week 7/final-project/src/components/TransfersList/TransfersList.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { Link, useHistory } from 'react-router-dom';\nimport validate from '../../utils/JWTParser';\nimport { format, parseISO } from 'date-fns';\n\nconst TransfersList = props => {\n  const {\n    transfers,\n    account,\n    title,\n    emptyMessage,\n    isOutgoing\n  } = props;\n  const history = useHistory();\n  const [showTransfers, setShowTransfers] = useState(false);\n  const [cookies] = useCookies(['JWT']);\n\n  if (!validate(cookies.JWT)) {\n    history.push(\"/login\");\n  }\n\n  useEffect(() => {\n    if (transfers && transfers.length) {\n      setShowTransfers(true);\n    } else {\n      setShowTransfers(false);\n    }\n  }, [transfers, cookies]);\n  return React.createElement(\"div\", {\n    className: \"block-section container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"block-section-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, isOutgoing && React.createElement(\"div\", {\n    className: \"block-section-header-edit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/transfers/newTransfer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"New Transfer\")), React.createElement(\"h3\", {\n    className: \"block-section-header-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, title)), !showTransfers && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, emptyMessage), showTransfers && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Outgoing transfers\"), React.createElement(\"div\", {\n    className: \"table-responsive-md\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    className: \"table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Number\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Description\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Date\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Amount\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, transfers.map(transfer => {\n    return React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, transfer.transferNumber), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, transfer.transferDescription), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, format(parseISO(transfer.transferDate), 'dd/MM/yyyy')), isOutgoing && React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, `${transfer.amount} ${account.currency}`), !isOutgoing && React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, `${transfer.targetAmount} ${account.currency}`));\n  }))))));\n};\n\nexport default TransfersList;","map":{"version":3,"sources":["/Users/user/Desktop/web-dev-program/week 7/final-project/src/components/TransfersList/TransfersList.js"],"names":["React","useEffect","useState","useCookies","Link","useHistory","validate","format","parseISO","TransfersList","props","transfers","account","title","emptyMessage","isOutgoing","history","showTransfers","setShowTransfers","cookies","JWT","push","length","map","transfer","transferNumber","transferDescription","transferDate","amount","currency","targetAmount"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { Link, useHistory } from 'react-router-dom';\nimport validate from '../../utils/JWTParser';\nimport { format, parseISO } from 'date-fns';\n\nconst TransfersList = (props) => {\n\n    const { transfers, account, title, emptyMessage, isOutgoing } = props;\n\n    const history = useHistory();\n\n    const [showTransfers, setShowTransfers] = useState(false);\n\n    const [cookies] = useCookies(['JWT']);\n\n    if (!validate(cookies.JWT)) {\n        history.push(\"/login\");\n    }\n\n    useEffect(() => {\n        if (transfers && transfers.length) {\n            setShowTransfers(true);\n        } else {\n            setShowTransfers(false);\n        }\n    }, [transfers, cookies]);\n\n    return (\n        <div className=\"block-section container\">\n            <div className=\"block-section-header\">\n                {isOutgoing && <div className=\"block-section-header-edit\">\n                    <Link to=\"/transfers/newTransfer\">New Transfer</Link>\n                </div>}\n                <h3 className=\"block-section-header-text\">{title}</h3>\n            </div>\n            {!showTransfers && <p>{emptyMessage}</p>}\n            {showTransfers && <div>\n                <h4>Outgoing transfers</h4>\n                <div className=\"table-responsive-md\">\n                    <table className=\"table\">\n                        <thead>\n                            <tr>\n                                <th>Number</th>\n                                <th>Description</th>\n                                <th>Date</th>\n                                <th>Amount</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {transfers.map(transfer => {\n                                return <tr>\n                                    <td>{transfer.transferNumber}</td>\n                                    <td>{transfer.transferDescription}</td>\n                                    <td>{format(parseISO(transfer.transferDate), 'dd/MM/yyyy')}</td>\n                                    {isOutgoing && <td>{`${transfer.amount} ${account.currency}`}</td>}\n                                    {!isOutgoing && <td>{`${transfer.targetAmount} ${account.currency}`}</td>}\n                                </tr>\n                            })}\n                        </tbody>\n                    </table>\n                </div>\n\n            </div>\n            }\n            \n        </div>\n    );\n\n}\n\nexport default TransfersList;"]},"metadata":{},"sourceType":"module"}