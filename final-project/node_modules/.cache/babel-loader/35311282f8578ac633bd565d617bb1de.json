{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/web-dev-program/week 7/final-project/src/pages/Profile/Profile.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { Link, Switch, Route, useHistory } from 'react-router-dom';\nimport validate from '../../utils/JWTParser';\nimport Navbar from '../../components/Navbar/Navbar';\nimport Axios from 'axios';\nimport './Profile.scss';\n\nconst Profile = () => {\n  const history = useHistory();\n  const [username, setUsername] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [countryCode, setCountryCode] = useState(\"\");\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n  const [cookies] = useCookies(['JWT']);\n\n  if (!validate(cookies.JWT)) {\n    history.push(\"/login\");\n  }\n\n  useEffect(() => {\n    const claims = validate(cookies.JWT);\n\n    if (claims) {\n      setUsername(claims.username);\n      Axios.get(`http://localhost:8081/api/v1/user/byUsername/${claims.username}`, {\n        headers: {\n          JWT: cookies.JWT\n        }\n      }).then(res => {\n        const {\n          data\n        } = res;\n        setName(data.name);\n        setLastName(data.lastName);\n        setEmail(data.email);\n        setCountryCode(data.countryCode);\n        setPhoneNumber(data.phoneNumber);\n      }).catch(e => {});\n    }\n  }, [username, cookies]);\n  return React.createElement(\"div\", {\n    className: \"wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"block-section container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"block-section-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"block-section-header-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Personal Information\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"label-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label-title col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Name:\"), React.createElement(\"label\", {\n    className: \"label-description col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, name)), React.createElement(\"div\", {\n    className: \"label-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label-title col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Last Name:\"), React.createElement(\"label\", {\n    className: \"label-description col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, lastName)), React.createElement(\"div\", {\n    className: \"label-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label-title col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Username:\"), React.createElement(\"label\", {\n    className: \"label-description col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, username)), React.createElement(\"div\", {\n    className: \"label-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label-title col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Email:\"), React.createElement(\"label\", {\n    className: \"label-description col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, email)), React.createElement(\"div\", {\n    className: \"label-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label-title col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Phone Number:\"), React.createElement(\"label\", {\n    className: \"label-description col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"+\" + countryCode + \" \" + phoneNumber))))));\n};\n\nexport default Profile;","map":{"version":3,"sources":["/Users/user/Desktop/web-dev-program/week 7/final-project/src/pages/Profile/Profile.js"],"names":["React","useState","useEffect","useCookies","Link","Switch","Route","useHistory","validate","Navbar","Axios","Profile","history","username","setUsername","name","setName","lastName","setLastName","email","setEmail","countryCode","setCountryCode","phoneNumber","setPhoneNumber","cookies","JWT","push","claims","get","headers","then","res","data","catch","e"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { Link, Switch, Route, useHistory } from 'react-router-dom';\nimport validate from '../../utils/JWTParser';\nimport Navbar from '../../components/Navbar/Navbar';\nimport Axios from 'axios';\nimport './Profile.scss';\n\nconst Profile = () => {\n\n    const history = useHistory();\n\n    const [username, setUsername] = useState(\"\");\n    const [name, setName] = useState(\"\");\n    const [lastName, setLastName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [countryCode, setCountryCode] = useState(\"\");\n    const [phoneNumber, setPhoneNumber] = useState(\"\");\n\n    const [cookies] = useCookies(['JWT']);\n\n    if (!validate(cookies.JWT)) {\n        history.push(\"/login\");\n    }\n\n    useEffect(() => {\n        const claims = validate(cookies.JWT)\n        if (claims) {\n            setUsername(claims.username);\n            Axios.get(`http://localhost:8081/api/v1/user/byUsername/${claims.username}`, {\n                headers: { JWT: cookies.JWT }\n            }).then(res => {\n                const { data } = res;\n                setName(data.name);\n                setLastName(data.lastName);\n                setEmail(data.email);\n                setCountryCode(data.countryCode);\n                setPhoneNumber(data.phoneNumber);\n            }).catch(e => {\n\n            });\n        }\n    }, [username, cookies]);\n\n    return (\n        <div className=\"wrapper\">\n            <div id=\"content\">\n                <Navbar />\n                <div className=\"block-section container\">\n                    <div className=\"block-section-header\">\n                        <h3 className=\"block-section-header-text\">Personal Information</h3>\n                    </div>\n                    <div>\n                        <div className=\"label-group row\">\n                            <label className=\"label-title col-md-2\">Name:</label>\n                            <label className=\"label-description col-md-2\">{name}</label>\n                        </div>\n                        <div className=\"label-group row\">\n                            <label className=\"label-title col-md-2\">Last Name:</label>\n                            <label className=\"label-description col-md-2\">{lastName}</label>\n                        </div>\n                        <div className=\"label-group row\">\n                            <label className=\"label-title col-md-2\">Username:</label>\n                            <label className=\"label-description col-md-2\">{username}</label>\n                        </div>\n                        <div className=\"label-group row\">\n                            <label className=\"label-title col-md-2\">Email:</label>\n                            <label className=\"label-description col-md-2\">{email}</label>\n                        </div>\n                        <div className=\"label-group row\">\n                            <label className=\"label-title col-md-2\">Phone Number:</label>\n                            <label className=\"label-description col-md-2\">{\"+\" + countryCode + \" \" + phoneNumber}</label>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}