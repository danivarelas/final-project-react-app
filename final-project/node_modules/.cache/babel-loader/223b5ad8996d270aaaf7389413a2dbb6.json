{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/final-project-react-app/final-project/src/pages/Profile/Profile.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport validate from '../../utils/JWTParser';\nimport Navbar from '../../components/Navbar/Navbar';\nimport Axios from 'axios';\nimport './Profile.scss';\n\nconst Profile = () => {\n  const history = useHistory();\n  const [username, setUsername] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [countryCode, setCountryCode] = useState(\"\");\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n\n  if (!validate(sessionStorage.getItem('JWT'))) {\n    history.push(\"/login\");\n  }\n\n  useEffect(() => {\n    const token = sessionStorage.getItem('JWT');\n    const claims = validate(token);\n\n    if (claims) {\n      setUsername(claims.username);\n      Axios.get(`http://localhost:8081/api/v1/user/byUsername/${claims.username}`, {\n        headers: {\n          JWT: token\n        }\n      }).then(res => {\n        const {\n          data\n        } = res;\n        setName(data.name);\n        setLastName(data.lastName);\n        setEmail(data.email);\n        setCountryCode(data.countryCode);\n        setPhoneNumber(data.phoneNumber);\n      }).catch(e => {});\n    }\n  }, [username]);\n  return React.createElement(\"div\", {\n    className: \"wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"block-section container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"block-section-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"block-section-header-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Personal Information\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"label-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label-title col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Name:\"), React.createElement(\"label\", {\n    className: \"label-description col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, name)), React.createElement(\"div\", {\n    className: \"label-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label-title col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Last Name:\"), React.createElement(\"label\", {\n    className: \"label-description col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, lastName)), React.createElement(\"div\", {\n    className: \"label-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label-title col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Username:\"), React.createElement(\"label\", {\n    className: \"label-description col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, username)), React.createElement(\"div\", {\n    className: \"label-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label-title col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Email:\"), React.createElement(\"label\", {\n    className: \"label-description col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, email)), React.createElement(\"div\", {\n    className: \"label-group row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label-title col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Phone Number:\"), React.createElement(\"label\", {\n    className: \"label-description col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"+\" + countryCode + \" \" + phoneNumber))))));\n};\n\nexport default Profile;","map":{"version":3,"sources":["/Users/user/Desktop/final-project-react-app/final-project/src/pages/Profile/Profile.js"],"names":["React","useState","useEffect","useHistory","validate","Navbar","Axios","Profile","history","username","setUsername","name","setName","lastName","setLastName","email","setEmail","countryCode","setCountryCode","phoneNumber","setPhoneNumber","sessionStorage","getItem","push","token","claims","get","headers","JWT","then","res","data","catch","e"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport validate from '../../utils/JWTParser';\nimport Navbar from '../../components/Navbar/Navbar';\nimport Axios from 'axios';\nimport './Profile.scss';\n\nconst Profile = () => {\n\n    const history = useHistory();\n\n    const [username, setUsername] = useState(\"\");\n    const [name, setName] = useState(\"\");\n    const [lastName, setLastName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [countryCode, setCountryCode] = useState(\"\");\n    const [phoneNumber, setPhoneNumber] = useState(\"\");\n\n    if (!validate(sessionStorage.getItem('JWT'))) {\n        history.push(\"/login\");\n    }\n\n    useEffect(() => {\n        const token = sessionStorage.getItem('JWT');\n        const claims = validate(token);\n        if (claims) {\n            setUsername(claims.username);\n            Axios.get(`http://localhost:8081/api/v1/user/byUsername/${claims.username}`, {\n                headers: { JWT: token }\n            }).then(res => {\n                const { data } = res;\n                setName(data.name);\n                setLastName(data.lastName);\n                setEmail(data.email);\n                setCountryCode(data.countryCode);\n                setPhoneNumber(data.phoneNumber);\n            }).catch(e => {\n\n            });\n        }\n    }, [username]);\n\n    return (\n        <div className=\"wrapper\">\n            <div id=\"content\">\n                <Navbar />\n                <div className=\"block-section container-fluid\">\n                    <div className=\"block-section-header\">\n                        <h3 className=\"block-section-header-text\">Personal Information</h3>\n                    </div>\n                    <div>\n                        <div className=\"label-group row\">\n                            <label className=\"label-title col-md-2\">Name:</label>\n                            <label className=\"label-description col-md-2\">{name}</label>\n                        </div>\n                        <div className=\"label-group row\">\n                            <label className=\"label-title col-md-2\">Last Name:</label>\n                            <label className=\"label-description col-md-2\">{lastName}</label>\n                        </div>\n                        <div className=\"label-group row\">\n                            <label className=\"label-title col-md-2\">Username:</label>\n                            <label className=\"label-description col-md-2\">{username}</label>\n                        </div>\n                        <div className=\"label-group row\">\n                            <label className=\"label-title col-md-2\">Email:</label>\n                            <label className=\"label-description col-md-2\">{email}</label>\n                        </div>\n                        <div className=\"label-group row\">\n                            <label className=\"label-title col-md-2\">Phone Number:</label>\n                            <label className=\"label-description col-md-2\">{\"+\" + countryCode + \" \" + phoneNumber}</label>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}