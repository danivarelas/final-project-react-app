{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/web-dev-program/week 7/final-project/src/pages/Payments/Payments.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { useHistory, Link } from 'react-router-dom';\nimport validate from '../../utils/JWTParser';\nimport Navbar from '../../components/Navbar/Navbar';\nimport './Payments.scss';\nimport Axios from 'axios';\nimport PaymentsChart from '../../components/PaymentsChart/PaymentsChart';\n\nconst Payments = () => {\n  const history = useHistory();\n  const [services, setServices] = useState([]);\n  const [serviceTypes, setServiceTypes] = useState([]);\n  const [cookies] = useCookies(['JWT']);\n\n  if (!validate(cookies.JWT)) {\n    history.push(\"/login\");\n  }\n\n  useEffect(() => {\n    Axios.get(`http://localhost:8081/api/v1/service`, {\n      headers: {\n        JWT: cookies.JWT\n      }\n    }).then(res => {\n      const {\n        data\n      } = res;\n      setServices(data);\n    }).catch(e => {});\n    Axios.get(`http://localhost:8081/api/v1/serviceType`, {\n      headers: {\n        JWT: cookies.JWT\n      }\n    }).then(res => {\n      const {\n        data\n      } = res;\n      setServiceTypes(data);\n    }).catch(e => {});\n  }, [cookies]);\n  return React.createElement(\"div\", {\n    class: \"wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"page-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"All Payments\")), React.createElement(\"div\", {\n    className: \"block-section container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"block-section-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"block-section-header-edit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/payments/payServices\",\n    className: \"btn btn-outline-secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Pay Services\")), React.createElement(\"h3\", {\n    className: \"block-section-header-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Monthly Payments Overview\")), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-lg-6 payment-chart\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"By Service Type\"), React.createElement(PaymentsChart, {\n    chartId: \"chartByType\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"col-lg-6 payment-chart\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"By Day\"), React.createElement(PaymentsChart, {\n    chartId: \"chartByDate\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }))))));\n};\n\nexport default Payments;","map":{"version":3,"sources":["/Users/user/Desktop/web-dev-program/week 7/final-project/src/pages/Payments/Payments.js"],"names":["React","useState","useEffect","useCookies","useHistory","Link","validate","Navbar","Axios","PaymentsChart","Payments","history","services","setServices","serviceTypes","setServiceTypes","cookies","JWT","push","get","headers","then","res","data","catch","e"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { useHistory, Link } from 'react-router-dom';\nimport validate from '../../utils/JWTParser';\nimport Navbar from '../../components/Navbar/Navbar';\nimport './Payments.scss'\nimport Axios from 'axios';\nimport PaymentsChart from '../../components/PaymentsChart/PaymentsChart';\n\nconst Payments = () => {\n\n    const history = useHistory();\n\n    const [services, setServices] = useState([]);\n    const [serviceTypes, setServiceTypes] = useState([]);\n\n    const [cookies] = useCookies(['JWT']);\n\n    if (!validate(cookies.JWT)) {\n        history.push(\"/login\");\n    }\n\n    useEffect(() => {\n        Axios.get(`http://localhost:8081/api/v1/service`, {\n            headers: { JWT: cookies.JWT }\n        }).then(res => {\n            const { data } = res;\n            setServices(data);\n        }).catch(e => {\n\n        });\n        Axios.get(`http://localhost:8081/api/v1/serviceType`, {\n            headers: { JWT: cookies.JWT }\n        }).then(res => {\n            const { data } = res;\n            setServiceTypes(data);\n            \n        }).catch(e => {\n\n        });\n    }, [cookies]);\n\n    return (\n        <div class=\"wrapper\">\n            <div id=\"content\">\n                <Navbar />\n                <div>\n                    <h2 className=\"page-title\">All Payments</h2>\n                </div>\n                <div className=\"block-section container\">\n                    <div className=\"block-section-header\">\n                        <div className=\"block-section-header-edit\">\n                            <Link to=\"/payments/payServices\" className=\"btn btn-outline-secondary\">Pay Services</Link>\n                        </div>\n                        <h3 className=\"block-section-header-text\">Monthly Payments Overview</h3>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-lg-6 payment-chart\">\n                            <h4>By Service Type</h4>\n                            <PaymentsChart chartId=\"chartByType\"/>\n                        </div>\n                        <div className=\"col-lg-6 payment-chart\">\n                            <h4>By Day</h4>\n                            <PaymentsChart chartId=\"chartByDate\"/>\n                        </div>\n                    </div>\n\n                </div>\n\n            </div>\n        </div>\n    );\n\n}\n\nexport default Payments;"]},"metadata":{},"sourceType":"module"}