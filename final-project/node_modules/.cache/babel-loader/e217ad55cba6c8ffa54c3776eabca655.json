{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/web-dev-program/week 7/final-project/src/pages/OpenAccount/OpenAccount.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { useHistory } from 'react-router-dom';\nimport validate from '../../utils/JWTParser';\nimport Navbar from '../../components/Navbar/Navbar';\nimport Axios from 'axios'; //import './NewTransfer.scss';\n\nconst OpenAccount = () => {\n  const history = useHistory();\n  const [currency, setCurrency] = useState(\"CRC\");\n  const [description, setDescription] = useState(\"\");\n  const [amount, setAmount] = useState(\"0.00\");\n  const [cookies] = useCookies(['JWT']);\n\n  if (!validate(cookies.JWT)) {\n    history.push(\"/login\");\n  }\n\n  useEffect(() => {}, [cookies]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const claims = validate(cookies.JWT);\n\n    if (claims) {\n      const account = {\n        accountNumber: Math.floor(Math.random() * 100000000 + 1000000000),\n        balance: \"0.00\",\n        currency: currency,\n        userId: claims.id\n      };\n      console.log(account);\n      Axios.post(`http://localhost:8081/api/v1/account`, account, {\n        headers: {\n          JWT: cookies.JWT\n        }\n      }).then(res => {\n        history.goBack();\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  };\n\n  const handleCancel = () => {\n    history.goBack();\n  };\n\n  const handleDescription = event => {\n    setDescription(event.target.value);\n  };\n\n  const handleCurrency = event => {\n    setCurrency(event.target.value);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"block-section container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"block-section-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"block-section-header-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Open Account\")), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Currency\"), React.createElement(\"select\", {\n    className: \"form-control\",\n    id: \"currency\",\n    onChange: handleCurrency,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"CRC\",\n    selected: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"CRC\"), React.createElement(\"option\", {\n    value: \"USD\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"USD\"))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Description\"), React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    required: true,\n    onChange: handleDescription,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    type: \"cancel\",\n    className: \"btn btn-danger\",\n    onClick: handleCancel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Cancel\"), React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Open\")))));\n};\n\nexport default OpenAccount;","map":{"version":3,"sources":["/Users/user/Desktop/web-dev-program/week 7/final-project/src/pages/OpenAccount/OpenAccount.js"],"names":["React","useState","useEffect","useCookies","useHistory","validate","Navbar","Axios","OpenAccount","history","currency","setCurrency","description","setDescription","amount","setAmount","cookies","JWT","push","handleSubmit","e","preventDefault","claims","account","accountNumber","Math","floor","random","balance","userId","id","console","log","post","headers","then","res","goBack","catch","handleCancel","handleDescription","event","target","value","handleCurrency"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { useHistory } from 'react-router-dom';\nimport validate from '../../utils/JWTParser';\nimport Navbar from '../../components/Navbar/Navbar';\nimport Axios from 'axios';\n//import './NewTransfer.scss';\n\nconst OpenAccount = () => {\n\n    const history = useHistory();\n\n    const [currency, setCurrency] = useState(\"CRC\");\n    const [description, setDescription] = useState(\"\");\n    const [amount, setAmount] = useState(\"0.00\");\n\n    const [cookies] = useCookies(['JWT']);\n\n    if (!validate(cookies.JWT)) {\n        history.push(\"/login\");\n    }\n\n    useEffect(() => {\n    }, [cookies]);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const claims = validate(cookies.JWT);\n        if (claims) {\n            const account = {\n            accountNumber: Math.floor((Math.random() * 100000000) + 1000000000),\n            balance: \"0.00\",\n            currency: currency,\n            userId: claims.id\n        }\n        console.log(account)\n        Axios.post(`http://localhost:8081/api/v1/account`, account, {\n            headers: { JWT: cookies.JWT }\n        })\n            .then(res => {\n                history.goBack();\n            }).catch(e => {\n                console.log(e);\n            });\n        }\n    }\n\n\n    const handleCancel = () => { history.goBack(); }\n\n    const handleDescription = event => {\n        setDescription(event.target.value);\n    };\n\n    const handleCurrency = event => {\n        setCurrency(event.target.value);\n    };\n\n    return (\n        <div className=\"wrapper\">\n            <div id=\"content\">\n                <Navbar />\n                <div className=\"block-section container\">\n                    <div className=\"block-section-header\">\n                        <h3 className=\"block-section-header-text\">Open Account</h3>\n                    </div>\n                    <form onSubmit={handleSubmit}>\n                        <div className=\"form-group\">\n                            <label>Currency</label>\n                            <select className=\"form-control\" id=\"currency\" onChange={handleCurrency}>\n                                <option value=\"CRC\" selected>CRC</option>\n                                <option value=\"USD\">USD</option>\n                            </select>\n                        </div>\n                        <div className=\"form-group\">\n                            <label>Description</label>\n                            <input className=\"form-control\" type=\"text\" required onChange={handleDescription} />\n                        </div>\n                        <button type=\"cancel\" className=\"btn btn-danger\" onClick={handleCancel}>Cancel</button>\n                        <button type=\"submit\" className=\"btn btn-success\">Open</button>\n\n                    </form>\n                </div>\n            </div>\n        </div>\n    );\n\n}\n\nexport default OpenAccount;"]},"metadata":{},"sourceType":"module"}