{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/web-dev-program/week 7/final-project/src/pages/Login/Login.js\";\nimport React, { useState } from 'react';\nimport Axios from 'axios';\nimport { useCookies } from 'react-cookie';\nimport { Link } from 'react-router-dom';\n\nconst Login = props => {\n  const {\n    history\n  } = props;\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [cookies, setCookie] = useCookies(['JWT']);\n\n  const handleSubmit = () => {\n    const user = {\n      username: username,\n      password: password\n    };\n    Axios.post(`http://localhost:8081/api/v1/login`, user, {\n      headers: {\n        JWT: cookies.JWT\n      }\n    }).then(res => {\n      setCookie('JWT', res.data, {\n        path: '/'\n      });\n      history.push(\"/\");\n    }).catch(e => {\n      console.log(e);\n\n      if (Axios.isCancel(e)) {\n        alert(`request cancelled:${e.message}`);\n      } else {\n        alert(\"another error happened:\" + e.message);\n      }\n    });\n  };\n\n  const handleUsername = event => {\n    setUsername(event.target.value);\n  };\n\n  const handlePassword = event => {\n    setPassword(event.target.value);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Username\"), React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    required: true,\n    onChange: handleUsername,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"password\",\n    required: true,\n    onChange: handlePassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    type: \"button\",\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Login\"))), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Don't have an account? \", React.createElement(Link, {\n    to: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Register here\"), \".\"));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/user/Desktop/web-dev-program/week 7/final-project/src/pages/Login/Login.js"],"names":["React","useState","Axios","useCookies","Link","Login","props","history","username","setUsername","password","setPassword","cookies","setCookie","handleSubmit","user","post","headers","JWT","then","res","data","path","push","catch","e","console","log","isCancel","alert","message","handleUsername","event","target","value","handlePassword"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Axios from 'axios';\nimport { useCookies } from 'react-cookie';\nimport { Link } from 'react-router-dom';\n\nconst Login = (props) => {\n\n    const { history } = props;\n\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [cookies, setCookie] = useCookies(['JWT']);\n\n    const handleSubmit = () => {\n        const user = {\n            username: username,\n            password: password\n        }\n        Axios.post(`http://localhost:8081/api/v1/login`, user, {\n            headers: {\n                JWT: cookies.JWT,\n            }\n        }).then(res => {\n            setCookie('JWT', res.data, { path: '/' });\n            history.push(\"/\")\n        }).catch(e => {\n            console.log(e);\n            if (Axios.isCancel(e)) {\n                alert(`request cancelled:${e.message}`);\n            } else {\n                alert(\"another error happened:\" + e.message);\n            }\n        });\n    }\n\n    const handleUsername = event => {\n        setUsername(event.target.value);\n    }\n\n    const handlePassword = event => {\n        setPassword(event.target.value);\n    }\n\n    return (\n        <div className=\"container\">\n            <form>\n                <div className=\"form-group\">\n                    <label>Username</label>\n                    <input className=\"form-control\" type=\"text\" required onChange={handleUsername}></input>\n                </div>\n                <div>\n                    <label>Password</label>\n                    <input className=\"form-control\" type=\"password\" required onChange={handlePassword}></input>\n                </div>\n                <div>\n                    <button className=\"btn btn-success\" type=\"button\" onClick={handleSubmit}>Login</button>\n                </div>\n            </form>\n            <p>Don't have an account? <Link to=\"/register\">Register here</Link>.</p>\n        </div>\n    );\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}