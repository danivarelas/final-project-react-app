{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/web-dev-program/week 7/final-project/src/pages/Transfers/Transfers.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { Link, useHistory } from 'react-router-dom';\nimport validate from '../../utils/JWTParser';\nimport Navbar from '../../components/Navbar/Navbar';\nimport Axios from 'axios';\n\nconst Transfers = props => {\n  const history = useHistory();\n  const [transfers, setTransfers] = useState([]);\n  const [cookies] = useCookies(['JWT']);\n\n  if (!validate(cookies.JWT)) {\n    history.push(\"/login\");\n  }\n\n  useEffect(() => {\n    const claims = validate(cookies.JWT);\n\n    if (claims) {\n      Axios.get(`http://localhost:8081/api/v1/account/byUserId/${claims.id}`, {\n        headers: {\n          JWT: cookies.JWT\n        }\n      }).then(res => {\n        let allTransfers = [];\n        const {\n          data\n        } = res;\n\n        if (data) {\n          data.forEach(account => {\n            Axios.get(`http://localhost:8081/api/v1/transfer/byAccountId/${account.id}`, {\n              headers: {\n                JWT: cookies.JWT\n              }\n            }).then(res => {\n              console.log(res.data);\n              allTransfers.push(res.data);\n            }).catch(e => {});\n          });\n        }\n\n        setTransfers([...transfers, allTransfers]);\n      }).catch(e => {});\n    }\n  }, [cookies]);\n  return React.createElement(\"div\", {\n    className: \"wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"block-section container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"block-section-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"block-section-header-edit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/transfers/newTransfer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"New Transfer\")), React.createElement(\"h3\", {\n    className: \"block-section-header-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Transfers\")), React.createElement(\"table\", {\n    className: \"table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Number\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Description\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Date\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"View\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, transfers.map(transfer => {\n    return React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, transfer.transferNumber), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, transfer.transferDescription), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, transfer.transferDate), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \" \", React.createElement(Link, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-eye\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }))));\n  }))))));\n};\n\nexport default Transfers;","map":{"version":3,"sources":["/Users/user/Desktop/web-dev-program/week 7/final-project/src/pages/Transfers/Transfers.js"],"names":["React","useState","useEffect","useCookies","Link","useHistory","validate","Navbar","Axios","Transfers","props","history","transfers","setTransfers","cookies","JWT","push","claims","get","id","headers","then","res","allTransfers","data","forEach","account","console","log","catch","e","map","transfer","transferNumber","transferDescription","transferDate"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAEzB,QAAMC,OAAO,GAAGN,UAAU,EAA1B;AAEA,QAAM,CAACO,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,EAAD,CAA1C;AAEA,QAAM,CAACa,OAAD,IAAYX,UAAU,CAAC,CAAC,KAAD,CAAD,CAA5B;;AAEA,MAAI,CAACG,QAAQ,CAACQ,OAAO,CAACC,GAAT,CAAb,EAA4B;AACxBJ,IAAAA,OAAO,CAACK,IAAR,CAAa,QAAb;AACH;;AAEDd,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMe,MAAM,GAAGX,QAAQ,CAACQ,OAAO,CAACC,GAAT,CAAvB;;AACA,QAAIE,MAAJ,EAAY;AACRT,MAAAA,KAAK,CAACU,GAAN,CAAW,iDAAgDD,MAAM,CAACE,EAAG,EAArE,EAAwE;AACpEC,QAAAA,OAAO,EAAE;AAAEL,UAAAA,GAAG,EAAED,OAAO,CAACC;AAAf;AAD2D,OAAxE,EAEGM,IAFH,CAEQC,GAAG,IAAI;AACX,YAAIC,YAAY,GAAG,EAAnB;AACA,cAAM;AAAEC,UAAAA;AAAF,YAAWF,GAAjB;;AACA,YAAIE,IAAJ,EAAU;AACNA,UAAAA,IAAI,CAACC,OAAL,CAAaC,OAAO,IAAI;AACpBlB,YAAAA,KAAK,CAACU,GAAN,CAAW,qDAAoDQ,OAAO,CAACP,EAAG,EAA1E,EAA6E;AACzEC,cAAAA,OAAO,EAAE;AAAEL,gBAAAA,GAAG,EAAED,OAAO,CAACC;AAAf;AADgE,aAA7E,EAEGM,IAFH,CAEQC,GAAG,IAAI;AACXK,cAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACE,IAAhB;AACAD,cAAAA,YAAY,CAACP,IAAb,CAAkBM,GAAG,CAACE,IAAtB;AACH,aALD,EAKGK,KALH,CAKSC,CAAC,IAAI,CAEb,CAPD;AAQH,WATD;AAUH;;AACDjB,QAAAA,YAAY,CAAC,CAAC,GAAGD,SAAJ,EAAeW,YAAf,CAAD,CAAZ;AACH,OAlBD,EAkBGM,KAlBH,CAkBSC,CAAC,IAAI,CAEb,CApBD;AAqBH;AACJ,GAzBQ,EAyBN,CAAChB,OAAD,CAzBM,CAAT;AA2BA,SACI;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,wBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CADJ,EAII;AAAI,IAAA,SAAS,EAAC,2BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJJ,CADJ,EAOI;AAAO,IAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,CADJ,CADJ,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKF,SAAS,CAACmB,GAAV,CAAcC,QAAQ,IAAI;AACvB,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,QAAQ,CAACC,cAAd,CADG,EAEH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,QAAQ,CAACE,mBAAd,CAFG,EAGH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKF,QAAQ,CAACG,YAAd,CAHG,EAIH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAK,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM;AAAG,MAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAN,CAAL,CAJG,CAAP;AAMH,GAPA,CADL,CATJ,CAPJ,CAFJ,CADJ,CADJ;AAoCH,CA3ED;;AA6EA,eAAe1B,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { Link, useHistory } from 'react-router-dom';\nimport validate from '../../utils/JWTParser';\nimport Navbar from '../../components/Navbar/Navbar';\nimport Axios from 'axios';\n\nconst Transfers = (props) => {\n\n    const history = useHistory();\n\n    const [transfers, setTransfers] = useState([]);\n\n    const [cookies] = useCookies(['JWT']);\n\n    if (!validate(cookies.JWT)) {\n        history.push(\"/login\");\n    }\n\n    useEffect(() => {\n        const claims = validate(cookies.JWT);\n        if (claims) {\n            Axios.get(`http://localhost:8081/api/v1/account/byUserId/${claims.id}`, {\n                headers: { JWT: cookies.JWT }\n            }).then(res => {\n                let allTransfers = [];\n                const { data } = res;\n                if (data) {\n                    data.forEach(account => {\n                        Axios.get(`http://localhost:8081/api/v1/transfer/byAccountId/${account.id}`, {\n                            headers: { JWT: cookies.JWT }\n                        }).then(res => {\n                            console.log(res.data)\n                            allTransfers.push(res.data)\n                        }).catch(e => {\n\n                        });\n                    });\n                }\n                setTransfers([...transfers, allTransfers]);\n            }).catch(e => {\n\n            });\n        }\n    }, [cookies]);\n\n    return (\n        <div className=\"wrapper\">\n            <div id=\"content\">\n                <Navbar />\n                <div className=\"block-section container\">\n                    <div className=\"block-section-header\">\n                        <div className=\"block-section-header-edit\">\n                            <Link to=\"/transfers/newTransfer\">New Transfer</Link>\n                        </div>\n                        <h3 className=\"block-section-header-text\">Transfers</h3>\n                    </div>\n                    <table className=\"table\">\n                        <thead>\n                            <tr>\n                                <th>Number</th>\n                                <th>Description</th>\n                                <th>Date</th>\n                                <th>View</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {transfers.map(transfer => {\n                                return <tr>\n                                    <td>{transfer.transferNumber}</td>\n                                    <td>{transfer.transferDescription}</td>\n                                    <td>{transfer.transferDate}</td>\n                                    <td> <Link><i className=\"fas fa-eye\"></i></Link></td>\n                                </tr>\n                            })}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    );\n\n}\n\nexport default Transfers;\n\n"]},"metadata":{},"sourceType":"module"}